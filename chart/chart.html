<head>

<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="http://code.highcharts.com/highcharts.js"></script>
<script src="http://code.highcharts.com/modules/exporting.js"></script>
</head>

<script>
	jQuery(document).ready(function() {

		$.get('json.json', function(data) {
			$.each(data, function(i, obj) {
				create(JSON.stringify(obj), 'container' + i)
			})

			$('#category_faq').on('change', function() {

				for (var i = 0; i <= 20; i++) {
					$('#container' + i).hide();
				}

				$('#container' + $(this).val()).toggle();
			});

			for (var i = 0; i <= 20; i++) {
				$('#container' + i).hide();
			}
		});

		function create(jsonString, containerName) {
			var pointStart = new Date().getTime();

			var myData = JSON.parse(jsonString);
			var data = []

			var combinedHeights = []

			$.each(myData.children, function(i, obj) {
				var d = new Date(obj.date)
				data.push([ Date.parse(d), parseInt(obj.count) ])
				combinedHeights.push(parseInt(obj.count))
			});

			$('#' + containerName).highcharts({
				chart : {
					type : 'line'
				},
				credits : {
					enabled : false
				},
				title : {
					text : myData.header
				// Title for the chart
				},
				subtitle : {},
				legend : {
					enabled : true
				},
				tooltip : {},
				plotOptions : {
					series : {
						pointStart : pointStart,
						pointInterval : 24 * 3600 * 1000 * 30
					}
				},
				xAxis : {

					type : 'datetime'
				},
				yAxis : {
					minPadding : 0,
					maxPadding : 0,
					gridLineColor : 'rgba(204,204,204,.25)',
					gridLineWidth : 0.5,
					title : {
						text : 'Access Count',
						rotation : 0,
						textAlign : 'right',
						style : {
							color : 'rgba(0,0,0,.9)',
						}
					},
					labels : {
						style : {
							color : 'rgba(0,0,0,.9)',
							fontSize : '9px'
						}
					},
					lineWidth : .5,
					lineColor : 'rgba(0,0,0,.5)',
					tickWidth : .5,
					tickLength : 3,
					tickColor : 'rgba(0,0,0,.75)'
				}
			});
			var chart = $('#' + containerName).highcharts();
			chart.addSeries({
				data : data
			});
		}
	});
</script>

<body>
	<center>

		<select id="category_faq">
			<option value="0">item1</option>
			<option value="1">item2</option>
			<option value="2">item2</option>
			<option value="3">item2</option>
			<option value="4">item2</option>
			<option value="5">item2</option>
			<option value="6">item2</option>
			<option value="7">item2</option>
			<option value="8">item2</option>
			<option value="9">item2</option>
			<option value="10">item2</option>
			<option value="11">item2</option>
			<option value="12">item2</option>
			<option value="13">item2</option>
			<option value="14">item2</option>
			<option value="15">item2</option>
			<option value="16">item2</option>
			<option value="17">item2</option>
			<option value="18">item2</option>
			<option value="19">item2</option>
			<option value="20">item2</option>
		</select>

		<div id="container0" style="width: 900px; height: 500px;"></div>
		<div id="container1" style="width: 900px; height: 500px;"></div>
		<div id="container2" style="width: 900px; height: 500px;"></div>
		<div id="container3" style="width: 900px; height: 500px;"></div>
		<div id="container4" style="width: 900px; height: 500px;"></div>
		<div id="container5" style="width: 900px; height: 500px;"></div>
		<div id="container6" style="width: 900px; height: 500px;"></div>
		<div id="container7" style="width: 900px; height: 500px;"></div>
		<div id="container8" style="width: 900px; height: 500px;"></div>
		<div id="container9" style="width: 900px; height: 500px;"></div>
		<div id="container10" style="width: 900px; height: 500px;"></div>
		<div id="container11" style="width: 900px; height: 500px;"></div>
		<div id="container12" style="width: 900px; height: 500px;"></div>
		<div id="container13" style="width: 900px; height: 500px;"></div>
		<div id="container14" style="width: 900px; height: 500px;"></div>
		<div id="container15" style="width: 900px; height: 500px;"></div>
		<div id="container16" style="width: 900px; height: 500px;"></div>
		<div id="container17" style="width: 900px; height: 500px;"></div>
		<div id="container18" style="width: 900px; height: 500px;"></div>
		<div id="container19" style="width: 900px; height: 500px;"></div>
		<div id="container20" style="width: 900px; height: 500px;"></div>
	</center>

</body>